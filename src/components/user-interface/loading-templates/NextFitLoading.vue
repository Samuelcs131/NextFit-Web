<template>
  <div
    v-if="loaderStatus(loaderId)"
    class="nextfit-loading fullscreen flex flex-center column z-max loading-full-screen"
  >
    <div class="flex items-center justify-center">
      <div class="loading-ring"></div>
      <svg
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        width="58px"
        height="58px"
        viewBox="0 0 600 600"
        enableBackground="new 0 0 600 600"
        xmlSpace="preserve"
        fill="#545FFF"
      >
        <path
          id="color_x5F_2_13_"
          d="M391.009,170.027c0.177-5.304-3.183-1.547-3.89-5.481c-0.663-3.934-5.26-1.415-4.73-3.934    c0.575-2.563-2.829-6.232-5.26-2.563c-2.387,3.624-8.664,12.995-8.664,12.995s-0.353-0.796-0.884-2.122    c-0.53-1.282,0.531-5.525-1.282-8.619c-1.812-3.094-5.304-1.989-5.26-0.707c0.044,1.282,0,5.967,0.133,6.895    c0.177,0.928,0.044,6.586,0,8.885c-0.044,2.342,4.288,13.039,4.288,13.039s-4.464,3.89-8.31,7.072h-0.044    c-2.122,1.724-4.022,3.227-4.951,3.757c-2.652,1.503-10.122,2.873-10.122,2.873s0.089-1.635,0.265-4.066    c0.177-3.138,0.442-7.647,0.751-11.758c0.53-7.249-0.84-16.31-3.492-20.774c-0.309-16.62-9.326-13.128-10.034-24.797    c-0.84-7.647-9.194-10.431-9.194-10.431s-0.531-2.431,0.84-3.492c1.326-1.105,6.542,0.31,10.476-2.033    c3.934-2.299,3.845-5.923,2.829-7.912c-1.017-1.945,1.591-1.061,2.431-3.138c0.839-2.077-1.503-5.569-1.503-5.569    s1.503-2.785,0.84-4.332c-0.663-1.547-3.227-3.448-1.724-3.978c1.503-0.53,2.475-2.917,2.387-3.934    c-0.089-1.017-4.509-4.111-9.15-6.144c-4.641-2.033,1.901-5.923-0.973-9.503c-1.105-1.238-1.547-5.879-6.365-11.006    c-4.774-5.127-16.885-8.84-31.295-6.807c-14.409,1.989-22.012,23.692-21.217,33.77c0.752,10.078,12.686,18.609,13.791,21.394    c1.061,2.785,0.928,9.901,0.928,9.901c-10.431,5.569-13.791,17.504-15.205,20.156c-1.37,2.652-6.497,5.127-13.702,12.067    c-7.249,6.984-23.957,7.602-47.959,31.162c-5.26,5.26-5.879,5.879-3.227,11.757c2.033,4.597,2.387,10.564,10.387,23.736    c0.796,1.326,1.68,2.74,2.652,4.243c1.812,2.74,3.89,5.746,6.321,9.061c0.663,0.973,1.459,2.121,2.342,3.404    c0.884,1.326,1.901,2.785,2.917,4.287c4.42,6.63,9.194,14.321,9.768,17.106c0.752,4.023,4.464,14.896,6.012,16.753    c0.663,0.751,2.077,2.785,3.536,4.951c17.857-3.315,36.333-7.028,55.163-11.006c12.376-2.608,24.267-5.26,35.759-7.868    c0.088-3.05-0.354-6.586-1.68-10.741c-2.033-6.719,1.768-4.332,3.227-16.443c0.619-4.464-0.619-3.934,6.984-7.249    c4.951-2.166,8.442-5.348,15.249-13.835c1.326-1.68,2.829-3.58,4.464-5.746c2.829-3.713,6.144-8.133,10.166-13.437    c1.238-1.68,2.873-1.945,5.083-3.271c1.635-1.017,3.58-2.564,5.835-5.79c1.856-2.608,3.934-6.321,6.233-11.625    C394.943,173.829,390.877,175.376,391.009,170.027z M267.599,256.574c0,0-4.022,5.614-6.984,11.006c0,0-5.348-6.277-12.818-11.139    c-0.707-0.619-3.58-4.951-7.116-12.288c-0.663-1.37-1.37-2.873-2.033-4.509c-1.724-3.846-3.536-8.398-5.304-13.481    c-0.53-1.459-1.016-3.006-1.503-4.597c-1.856-5.967-3.624-12.553-5.083-19.758c-0.53-4.995,3.183-3.448,11.979-6.851    c8.752-3.404,14.454-7.956,24.046-11.05c0,0,1.591,20.465,1.591,29.88c0,0.707-0.044,1.326-0.044,1.901    c-0.044,0.884,0,1.901,0.044,3.094c0.133,3.934,0.707,9.326,1.282,14.586v0.044c0.177,1.68,0.398,3.315,0.575,4.862    c0.707,6.011,1.37,11.095,1.37,12.421C267.599,253.789,267.599,256.574,267.599,256.574z"
        ></path>
        <path
          id="color_x5F_1_32_"
          d="M379.605,305.77c-2.033,0.53-4.066,1.061-6.1,1.547c1.768,1.194,3.448,2.431,5.127,3.669    c22.278,16.089,37.527,31.737,41.108,34.875c4.641,4.022,8.221,12.067,5.26,17.327c-2.917,5.26-4.155,13.349-4.641,15.824    c-0.442,2.475-22.454,59.628-26.477,69.573c-4.022,9.901-5.569,21.835-4.508,24.62c1.105,2.785,10.785,19.802,14.012,22.896    c3.182,3.094,16.929,5.26,18.299,7.735c1.326,2.475,2.475,10.962-6.542,13.128c-25.504,3.404-28.377-9.194-43.185-9.194    c-14.763,0-27.449-4.951-29.306-12.2c0,0,1.635-9.813,9.68-17.46c8.089-7.647,10.034-6.1,10.034-6.1s15.382-41.859,17.415-52.423    c1.989-10.52,2.74-30.632,10.166-49.417c-32.311-21.394-44.555-9.459-73.993-26.654l-5.127-2.475c0,0-11.802,9.724-17.46,10.829    c-25.327,31.914-46.191,46.191-49.682,50.125c-3.536,3.89-6.188,15.293-14.454,18.388c-30.587,10.122-44.422,31.781-83.496,50.787    c-8.001,4.066-16.222,12.553-17.283,14.896c-1.105,2.343-1.105,6.498-3.404,9.459c-2.342,2.917-7.912,13.481-7.912,18.918    c0,5.392,7.293,19.979,1.856,22.587c-5.437,2.652-24.001,1.724-29.129-17.195c-5.128-18.874,0.619-15.647-5.128-30.676    c-5.702-15.029-3.227-25.416,0-30.499c3.271-5.127,24.178-0.177,26.963,3.713c1.415,1.547,2.475,2.608,2.475,2.608    s23.736-15.073,33.416-24.576c9.724-9.503,28.112-33.991,65.595-52.556c0,0,10.962-24.974,28.333-47.914    c1.414-1.901,2.917-3.801,4.42-5.658c-2.387,0.442-4.774,0.84-7.161,1.237C106.971,357.353,5.617,356.602,0.224,331.23    c-5.304-24.974,84.116-65.949,210.399-99.277c1.989,3.138,4.376,6.63,7.249,10.52c0.442,0.663,0.884,1.282,1.326,1.901    c-98.923,24.443-169.159,49.682-166.684,61.396c2.608,12.244,84.159,5.746,191.657-14.189c1.724-0.309,3.492-0.619,5.216-0.972    c17.194-3.227,35.008-6.763,53.263-10.653c11.625-2.475,23.073-4.995,34.212-7.514c1.724-0.398,3.448-0.796,5.127-1.194    c115.896-26.698,202.443-56.313,199.702-69.308c-2.431-11.404-72.844-6.586-168.982,10.122c1.414-1.901,2.961-3.934,4.597-6.1    l2.431-3.227c0.133-0.133,0.707-0.442,1.282-0.707c2.608-1.282,5.348-2.917,8.354-6.718c117.885-17.239,205.404-14.94,210.399,8.619    C605.254,229.611,511.016,272,379.605,305.77z"
        ></path>
      </svg>
    </div>
    <div class="q-loading__message q-pt-lg">
      {{ text }}
    </div>
  </div>
</template>
<script lang="ts" setup>
import useLoader from 'src/composables/useLoader'
import NextFitImg from 'assets/img/logo/nextfit-logo.svg'

defineProps({
  text: {
    type: String,
    required: false,
  },
  loaderId: {
    type: String,
    required: true,
  },
})

const { loaderStatus } = useLoader()
</script>
<style lang="scss" scoped>

.nextfit-loading {
  background-color: $dark-page;
  & > div {
    svg {
      path {
        fill: white;
        animation: fadeImage 3s ease-in-out infinite;
      }
    }
  }
}

.loading-ring {
  position: absolute;
  width: 150px;
  height: 150px;
  border-radius: 50%;
  animation: ring 2s linear infinite;
  &::before {
    position: absolute;
    content: '';
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    border-radius: 50%;
    box-shadow: 0 0 5px rgba($color: $accent, $alpha: 0.5);
  }
}

@keyframes fadeImage {
  50% {
    fill: $primary;
  }
}
@keyframes ring {
  0% {
    transform: rotate(0deg);
    box-shadow: 1px 5px 2px $primary;
  }
  50% {
    transform: rotate(180deg);
    box-shadow: 1px 5px 2px $primary;
  }
  100% {
    transform: rotate(360deg);
    box-shadow: 1px 5px 2px $primary;
  }
}
</style>
